<div
  fxLayout="column"
  fxLayoutAlign="center"
  *ngIf="dataSource.data?.length > 0; else noBookings"
>
  <div fxLayoutAlign="center center">
    <mat-form-field fxFlex="40%">
      <input
        matInput
        type="text"
        (keyup)="doFilter($event.target.value)"
        placeholder="Filter"
      />
    </mat-form-field>
  </div>
  <mat-table [dataSource]="dataSource" #updateBooking matSort>
    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Name"
        >{{ booking.name }}
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="lastName">
      <mat-header-cell *matHeaderCellDef>Last Name</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Last Name">{{
        booking.lastName
      }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Date">{{
        booking.date.toDate() | date
      }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="time">
      <mat-header-cell *matHeaderCellDef>Time</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Time">{{
        booking.time
      }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="hour">
      <mat-header-cell *matHeaderCellDef>Hour(s)</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Hour(s)">{{
        booking.hours
      }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="amount">
      <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Amount"
        ><span matPrefix>$ &nbsp;</span>{{ booking.amount | number }}</mat-cell
      >
    </ng-container>
    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
      <mat-cell *matCellDef="let booking" data-label="Actions">
        <button (click)="onDeleteBooking(booking)" type="button">
          <mat-icon aria-hidden="false" aria-label="delete icon" color="warn"
            >delete_outline</mat-icon
          >
        </button>
        <a routerLink="../booking/{{ booking.id }}">
          <mat-icon aria-hidden="false" aria-label="edit icon" color="warn">
            edit_outline</mat-icon
          ></a
        >
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="status">
      <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
      <mat-cell *matCellDef="let booking"
        ><mat-slide-toggle
          (change)="onUpdateStatus($event, booking)"
          [(ngModel)]="booking.status"
          color="primary"
        >
          Paid
        </mat-slide-toggle></mat-cell
      >
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
</div>
<ng-template #noBookings
  ><h2 fxLayoutAlign="center center">
    The are not bookings to list
  </h2></ng-template
>
